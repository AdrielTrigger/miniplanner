(()=>{"use strict";function e(e,t){t.style.setProperty("display","none"),e.style.setProperty("display","flex")}function t(e,t){let n=document.createElement("li");n.classList.add("task-item"),n.innerHTML=e;let l=document.createElement("button");l.innerHTML="Excluir",l.classList.add("deletion"),n.appendChild(l),t.appendChild(n)}class n{constructor(e){this.name=e}setName(e){this.name=e}}const l=window.require("fs");function s(e){let t=JSON.stringify(e);l.writeFile("list.json",t,(e=>{if(e)throw e}))}function r(){if(l.existsSync("./list.json")){let e=l.readFileSync("./list.json");return JSON.parse(e)}}const i=document.querySelector("#new-task-button"),a=document.querySelector(".task-form"),o=document.querySelector("#task-name"),c=document.querySelector("#cancel-task"),u=document.querySelector(".task-list");var d=[];r()&&(function(e,t){if(e)for(let l=0;l<e.length;l++){let s=e[l].name,r=new n(s);t.push(r)}}(r(),d),function(e,n){for(let l=0;l<e.length;l++)t(e[l].name,n)}(d,u)),i.addEventListener("click",(()=>{var e;e=i,a.style.setProperty("display","flex"),e.style.setProperty("display","none")})),a.addEventListener("submit",(l=>{l.preventDefault(),""!=o.value&&(d.push(new n(o.value)),s(d),t(o.value,u),e(i,a)),o.value=""})),c.addEventListener("click",(t=>{t.preventDefault(),e(i,a),o.value=""})),u.addEventListener("click",(e=>{let t=document.querySelectorAll(".task-item");for(let n=0;n<t.length;n++)if(e.target.parentElement===t[n]&&e.target.classList.contains("deletion"))return d.splice(n,1),s(d),void u.removeChild(e.target.parentElement)}))})();