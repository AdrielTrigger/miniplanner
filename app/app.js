(()=>{"use strict";function e(e,t){t.style.setProperty("display","none"),e.style.setProperty("display","flex")}function t(e,t){let n=document.createElement("div");n.innerHTML=e;let l=document.createElement("button");l.innerHTML="Delete",n.appendChild(l),l.addEventListener("click",(()=>{t.removeChild(n)})),t.appendChild(n)}class n{constructor(e){this.name=e}setName(e){this.name=e}}const l=window.require("fs"),r=document.getElementById("new-task"),s=document.querySelector("form"),i=document.getElementById("task-name"),a=document.getElementById("cancel-task"),o=document.querySelector(".task-list");var c=[];let d=function(){let e=l.readFileSync("./list.json");return JSON.parse(e)}();d.length>0&&(function(e,t){if(e)for(let l=0;l<e.length;l++){let r=e[l].name,s=new n(r);t.push(s)}}(d,c),function(e,n){for(let l=0;l<e.length;l++)t(e[l].name,n)}(c,o)),r.addEventListener("click",(()=>{var e;e=r,s.style.setProperty("display","flex"),e.style.setProperty("display","none")})),s.addEventListener("submit",(a=>{a.preventDefault(),""!=i.value&&(c.push(new n(i.value)),function(e){let t=JSON.stringify(e);l.writeFile("list.json",t,(e=>{if(e)throw e}))}(c),t(i.value,o),e(r,s)),i.value=""})),a.addEventListener("click",(t=>{t.preventDefault(),e(r,s),i.value=""}))})();