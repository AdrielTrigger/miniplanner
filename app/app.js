(()=>{"use strict";function e(e,t){t.style.setProperty("display","none"),e.style.setProperty("display","flex")}function t(e,t,n){let l=document.createElement("div");l.innerHTML=e;let s=document.createElement("button");s.innerHTML="Delete",s.classList.add("deletion"),l.appendChild(s),s.addEventListener("click",(()=>{t.removeChild(l)})),l.setAttribute("id",n),t.appendChild(l)}const n=window.require("fs");function l(e){let t=JSON.stringify(e);n.writeFile("list.json",t,(e=>{if(e)throw e}))}function s(){if(n.existsSync("./list.json")){let e=n.readFileSync("./list.json");return JSON.parse(e)}}class i{constructor(e){this.name=e}setName(e){this.name=e}}const r=document.getElementById("new-task"),a=document.querySelector("form"),o=document.getElementById("task-name"),c=document.getElementById("cancel-task"),d=document.querySelector(".task-list");var u=[];s()&&(function(e,t){if(e)for(let n=0;n<e.length;n++){let l=e[n].name,s=new i(l);t.push(s)}}(s(),u),function(e,n){for(let l=0;l<e.length;l++)t(e[l].name,n,l+1)}(u,d)),r.addEventListener("click",(()=>{var e;e=r,a.style.setProperty("display","flex"),e.style.setProperty("display","none")})),a.addEventListener("submit",(n=>{n.preventDefault(),""!=o.value&&(u.push(new i(o.value)),l(u),t(o.value,d,u.length),e(r,a)),o.value=""})),c.addEventListener("click",(t=>{t.preventDefault(),e(r,a),o.value=""})),d.addEventListener("click",(e=>{e.target&&e.target.classList.contains("deletion")&&(u.splice(e.target.parentElement.id-1,1),l(u),console.log(e.target.parentElement.id))}))})();