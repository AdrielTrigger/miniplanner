(()=>{"use strict";function e(e,t){t.style.setProperty("display","flex"),e.style.setProperty("display","none")}function t(e,t){t.style.setProperty("display","none"),e.style.setProperty("display","flex")}function n(e,t){let n=document.createElement("li");n.classList.add("task-item"),n.innerHTML=e;let l=document.createElement("button");l.innerHTML="Excluir",l.classList.add("deletion"),n.appendChild(l),t.appendChild(n)}function l(e,t){let n=document.createElement("li");n.classList.add("habit-item"),n.innerHTML=e;let l=document.createElement("button");l.innerHTML="Excluir",l.classList.add("deletion"),n.appendChild(l),t.appendChild(n)}class i{constructor(e){this.name=e}setName(e){this.name=e}}class r{constructor(e){this.name=e}setName(e){this.name=e}}const s=window.require("fs");function a(e){let t=JSON.stringify(e);s.writeFile("habits.json",t,(e=>{if(e)throw e}))}function c(){if(s.existsSync("./tasks.json")){let e=s.readFileSync("./tasks.json");return JSON.parse(e)}}function o(){if(s.existsSync("./habits.json")){let e=s.readFileSync("./habits.json");return JSON.parse(e)}}const u=document.querySelector("#new-task-button"),d=document.querySelector("#new-habit-button"),m=document.querySelector(".task-form"),f=document.querySelector("#task-name"),p=document.querySelector("#cancel-task"),h=document.querySelector(".task-list"),y=document.querySelector(".habit-form"),v=document.querySelector("#habit-name"),S=document.querySelector("#cancel-habit"),L=document.querySelector(".habit-list");var E=[],b=[];function k(e,t){if(e)for(let n=0;n<e.length;n++){let l=e[n].name,r=new i(l);t.push(r)}}c()&&(k(c(),E),function(e,t){for(let l=0;l<e.length;l++)n(e[l].name,t)}(E,h)),o()&&(k(o(),b),function(e,t){for(let n=0;n<e.length;n++)l(e[n].name,t)}(b,L)),u.addEventListener("click",(()=>{e(u,m)})),d.addEventListener("click",(()=>{e(d,y)})),m.addEventListener("submit",(e=>{e.preventDefault(),""!=f.value&&(E.push(new i(f.value)),n(f.value,h),t(u,m),function(e){let t=JSON.stringify(e);s.writeFile("tasks.json",t,(e=>{if(e)throw e}))}(E)),f.value=""})),y.addEventListener("submit",(e=>{e.preventDefault(),""!=v.value&&(b.push(new r(v.value)),l(v.value,L),t(d,y),a(b))})),p.addEventListener("click",(e=>{e.preventDefault(),t(u,m),f.value=""})),S.addEventListener("click",(e=>{e.preventDefault(),t(d,y),v.value=""})),h.addEventListener("click",(e=>{let t=document.querySelectorAll(".task-item");for(let n=0;n<t.length;n++)if(e.target.parentElement===t[n]&&e.target.classList.contains("deletion"))return E.splice(n,1),saveList(E),void h.removeChild(e.target.parentElement)})),L.addEventListener("click",(e=>{let t=document.querySelectorAll(".habit-item");for(let n=0;n<t.length;n++)if(e.target.parentElement===t[n]&&e.target.classList.contains("deletion"))return b.splice(n,1),a(b),void L.removeChild(e.target.parentElement)}))})();